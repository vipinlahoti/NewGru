<!-- 

Questions List Component

title (String)
| The title of the question list

incoming (Cursor)
| A cursor containing the new questions since render

questionsCursor (Cursor)
| A cursor containing the question list

questionsCount (Number)
| How many questions are loaded

questionsReady (Boolean)
| Whether the subscription is ready

hasMoreQuestions (Boolean)
| Whether there are still more questions that can be loaded

loadMoreHandler (Function)
| What to do when the user clicks "load more"

showFilters (Boolean)
| Whether to show filters (views nav) (*not implemented yet*)
-->

<template name="questions_list">
  <div class="col-xs-8 col-xs-offset-2 {{questionsLayout}}" aria-live="polite">
    {{#each questionsCursor}}
      {{> before_question_item}}
      {{> question_item question=this}}
      {{> after_question_item}}
    {{/each}}
    
    {{> questionsLoadMore}}
  </div>
</template>

<template name="questionsListIncoming">
  {{#if count}}
    <a class="more-button show-new grid-module" href="">
      <span>
        View {{count}} New {{pluralize count "question"}}
      </span>
    </a>
  {{/if}}
</template>

<template name="questionsLoadMore">
  <div class="questions-load-more">
    {{#if questionsReady}}
      {{#if hasQuestions}}
        {{#if showLoadMoreButton}}
          <a class="btn btn-block more-button waves-effect waves-light" href="#"><span>Load more</span></a>
        {{/if}}
        {{#if showInfiniteScroll}}
          <div class="questions-loading">{{> loading}}</div>
        {{/if}}
      {{else}}
        <div class="no-questions">Sorry we couldnt find any questions</div>
      {{/if}}
    {{else}}
      <div class="questions-loading">{{> loading}}</div>
    {{/if}}
  </div>
</template>
